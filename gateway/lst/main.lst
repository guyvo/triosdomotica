
C:\cortex\gateway\out\main.o:     file format elf32-littlearm
C:\cortex\gateway\out\main.o


Disassembly of section .text.I2C_Initialize:

00000000 <I2C_Initialize>:
I2C_Initialize():
C:\cortex\gateway\src/main.c:156
    }
  }  
}

void I2C_Initialize ( void ){
  I2C_InitStructure.I2C_Mode = I2C_Mode_I2C;
   0:	4911      	ldr	r1, [pc, #68]	; (48 <I2C_Initialize+0x48>)
   2:	2300      	movs	r3, #0
C:\cortex\gateway\src/main.c:155
        DMA_Cmd(DMA1_Channel4, ENABLE);
    }
  }  
}

void I2C_Initialize ( void ){
   4:	b510      	push	{r4, lr}
C:\cortex\gateway\src/main.c:156
  I2C_InitStructure.I2C_Mode = I2C_Mode_I2C;
   6:	800b      	strh	r3, [r1, #0]
C:\cortex\gateway\src/main.c:157
  I2C_InitStructure.I2C_DutyCycle = I2C_DutyCycle_2;
   8:	f64b 73ff 	movw	r3, #49151	; 0xbfff
   c:	804b      	strh	r3, [r1, #2]
C:\cortex\gateway\src/main.c:158
  I2C_InitStructure.I2C_OwnAddress1 = I2C2_SLAVE_ADDRESS7;
   e:	2304      	movs	r3, #4
  10:	808b      	strh	r3, [r1, #4]
C:\cortex\gateway\src/main.c:159
  I2C_InitStructure.I2C_Ack = I2C_Ack_Enable;
  12:	f44f 6380 	mov.w	r3, #1024	; 0x400
  16:	80cb      	strh	r3, [r1, #6]
C:\cortex\gateway\src/main.c:160
  I2C_InitStructure.I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
  18:	f44f 4380 	mov.w	r3, #16384	; 0x4000
  1c:	810b      	strh	r3, [r1, #8]
C:\cortex\gateway\src/main.c:161
  I2C_InitStructure.I2C_ClockSpeed = ClockSpeed100k;
  1e:	4b0b      	ldr	r3, [pc, #44]	; (4c <I2C_Initialize+0x4c>)
C:\cortex\gateway\src/main.c:162
  I2C_Init(I2C2, &I2C_InitStructure);
  20:	480b      	ldr	r0, [pc, #44]	; (50 <I2C_Initialize+0x50>)
C:\cortex\gateway\src/main.c:161
  I2C_InitStructure.I2C_Mode = I2C_Mode_I2C;
  I2C_InitStructure.I2C_DutyCycle = I2C_DutyCycle_2;
  I2C_InitStructure.I2C_OwnAddress1 = I2C2_SLAVE_ADDRESS7;
  I2C_InitStructure.I2C_Ack = I2C_Ack_Enable;
  I2C_InitStructure.I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
  I2C_InitStructure.I2C_ClockSpeed = ClockSpeed100k;
  22:	60cb      	str	r3, [r1, #12]
C:\cortex\gateway\src/main.c:162
  I2C_Init(I2C2, &I2C_InitStructure);
  24:	f7ff fffe 	bl	0 <I2C_Init>
C:\cortex\gateway\src/main.c:163
  I2C_ITConfig(I2C2, I2C_IT_EVT | I2C_IT_BUF | I2C_IT_ERR , ENABLE);
  28:	2201      	movs	r2, #1
  2a:	4809      	ldr	r0, [pc, #36]	; (50 <I2C_Initialize+0x50>)
  2c:	f44f 61e0 	mov.w	r1, #1792	; 0x700
  30:	f7ff fffe 	bl	0 <I2C_ITConfig>
C:\cortex\gateway\src/main.c:164
  I2C_StretchClockCmd(I2C2,ENABLE);
  34:	2101      	movs	r1, #1
  36:	4806      	ldr	r0, [pc, #24]	; (50 <I2C_Initialize+0x50>)
  38:	f7ff fffe 	bl	0 <I2C_StretchClockCmd>
C:\cortex\gateway\src/main.c:165
  I2C_Cmd(I2C2, ENABLE);
  3c:	4804      	ldr	r0, [pc, #16]	; (50 <I2C_Initialize+0x50>)
  3e:	2101      	movs	r1, #1
C:\cortex\gateway\src/main.c:166
}
  40:	e8bd 4010 	ldmia.w	sp!, {r4, lr}
C:\cortex\gateway\src/main.c:165
  I2C_InitStructure.I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
  I2C_InitStructure.I2C_ClockSpeed = ClockSpeed100k;
  I2C_Init(I2C2, &I2C_InitStructure);
  I2C_ITConfig(I2C2, I2C_IT_EVT | I2C_IT_BUF | I2C_IT_ERR , ENABLE);
  I2C_StretchClockCmd(I2C2,ENABLE);
  I2C_Cmd(I2C2, ENABLE);
  44:	f7ff bffe 	b.w	0 <I2C_Cmd>
  48:	00000000 	.word	0x00000000
  4c:	000186a0 	.word	0x000186a0
  50:	40005800 	.word	0x40005800

Disassembly of section .text.I2C_PullUp:

00000000 <I2C_PullUp>:
I2C_PullUp():
C:\cortex\gateway\src/main.c:168
}

void I2C_PullUp (void){
   0:	2100b507 	.word	0x2100b507
C:\cortex\gateway\src/main.c:171
    GPIO_InitTypeDef GPIO_InitStructure;

    I2C_Cmd(I2C2, DISABLE);
   4:	480e      	ldr	r0, [pc, #56]	; (3c <I2C_Cmd+0x3c>)
   6:	f7ff fffe 	bl	0 <I2C_Cmd>
C:\cortex\gateway\src/main.c:172
    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
   a:	f44f 6340 	mov.w	r3, #3072	; 0xc00
   e:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:173
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  12:	2303      	movs	r3, #3
  14:	f88d 3006 	strb.w	r3, [sp, #6]
C:\cortex\gateway\src/main.c:175
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  18:	a901      	add	r1, sp, #4
C:\cortex\gateway\src/main.c:174
    GPIO_InitTypeDef GPIO_InitStructure;

    I2C_Cmd(I2C2, DISABLE);
    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  1a:	330d      	adds	r3, #13
C:\cortex\gateway\src/main.c:175
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  1c:	4809      	ldr	r0, [pc, #36]	; (44 <I2C_PullUp+0x44>)
C:\cortex\gateway\src/main.c:174
    GPIO_InitTypeDef GPIO_InitStructure;

    I2C_Cmd(I2C2, DISABLE);
    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  1e:	f88d 3007 	strb.w	r3, [sp, #7]
C:\cortex\gateway\src/main.c:175
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  22:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:176
    GPIO_WriteBit(GPIOB, GPIO_Pin_10, (BitAction) 1 );
  26:	2201      	movs	r2, #1
  28:	4806      	ldr	r0, [pc, #24]	; (44 <I2C_PullUp+0x44>)
  2a:	f44f 6180 	mov.w	r1, #1024	; 0x400
  2e:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\cortex\gateway\src/main.c:177
    GPIO_WriteBit(GPIOB, GPIO_Pin_11, (BitAction) 1 );
  32:	4804      	ldr	r0, [pc, #16]	; (44 <I2C_PullUp+0x44>)
  34:	f44f 6100 	mov.w	r1, #2048	; 0x800
  38:	2201      	movs	r2, #1
  3a:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\cortex\gateway\src/main.c:178
}
  3e:	bd0e      	pop	{r1, r2, r3, pc}
  40:	40005800 	.word	0x40005800
  44:	40010c00 	.word	0x40010c00

Disassembly of section .text.I2C_FreeBus:

00000000 <I2C_FreeBus>:
I2C_FreeBus():
C:\cortex\gateway\src/main.c:180

void I2C_FreeBus (void){
   0:	f44fb507 	.word	0xf44fb507
C:\cortex\gateway\src/main.c:183
    GPIO_InitTypeDef GPIO_InitStructure;

    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
   4:	6340      	str	r0, [r0, #52]	; 0x34
   6:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:184
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
   a:	2303      	movs	r3, #3
   c:	f88d 3006 	strb.w	r3, [sp, #6]
C:\cortex\gateway\src/main.c:186
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  10:	a901      	add	r1, sp, #4
C:\cortex\gateway\src/main.c:185
void I2C_FreeBus (void){
    GPIO_InitTypeDef GPIO_InitStructure;

    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  12:	3319      	adds	r3, #25
C:\cortex\gateway\src/main.c:186
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  14:	4804      	ldr	r0, [pc, #16]	; (28 <I2C_FreeBus+0x28>)
C:\cortex\gateway\src/main.c:185
void I2C_FreeBus (void){
    GPIO_InitTypeDef GPIO_InitStructure;

    GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_10 | GPIO_Pin_11;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  16:	f88d 3007 	strb.w	r3, [sp, #7]
C:\cortex\gateway\src/main.c:186
    GPIO_Init(GPIOB, &GPIO_InitStructure);
  1a:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:187
    I2C_Cmd(I2C2, ENABLE);
  1e:	4803      	ldr	r0, [pc, #12]	; (2c <I2C_FreeBus+0x2c>)
  20:	2101      	movs	r1, #1
  22:	f7ff fffe 	bl	0 <I2C_Cmd>
C:\cortex\gateway\src/main.c:188
}
  26:	bd0e      	pop	{r1, r2, r3, pc}
  28:	40010c00 	.word	0x40010c00
  2c:	40005800 	.word	0x40005800

Disassembly of section .text.USART_Init1:

00000000 <USART_Init1>:
USART_Init1():
C:\cortex\gateway\src/main.c:189
void USART_Init1 (void){
   0:	b570      	push	{r4, r5, r6, lr}
C:\cortex\gateway\src/main.c:190
  USART_InitStructure.USART_BaudRate = mainBAUDRATE1;
   2:	4d18      	ldr	r5, [pc, #96]	; (64 <USART_Init1+0x64>)
C:\cortex\gateway\src/main.c:195
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
   4:	230c      	movs	r3, #12
C:\cortex\gateway\src/main.c:191
    GPIO_Init(GPIOB, &GPIO_InitStructure);
    I2C_Cmd(I2C2, ENABLE);
}
void USART_Init1 (void){
  USART_InitStructure.USART_BaudRate = mainBAUDRATE1;
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
   6:	2400      	movs	r4, #0
C:\cortex\gateway\src/main.c:190
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
    GPIO_Init(GPIOB, &GPIO_InitStructure);
    I2C_Cmd(I2C2, ENABLE);
}
void USART_Init1 (void){
  USART_InitStructure.USART_BaudRate = mainBAUDRATE1;
   8:	f44f 2661 	mov.w	r6, #921600	; 0xe1000
C:\cortex\gateway\src/main.c:196
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  USART_Init(USART1, &USART_InitStructure);
   c:	4629      	mov	r1, r5
   e:	4816      	ldr	r0, [pc, #88]	; (68 <USART_Init1+0x68>)
C:\cortex\gateway\src/main.c:195
  USART_InitStructure.USART_BaudRate = mainBAUDRATE1;
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  10:	816b      	strh	r3, [r5, #10]
C:\cortex\gateway\src/main.c:190
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
    GPIO_Init(GPIOB, &GPIO_InitStructure);
    I2C_Cmd(I2C2, ENABLE);
}
void USART_Init1 (void){
  USART_InitStructure.USART_BaudRate = mainBAUDRATE1;
  12:	602e      	str	r6, [r5, #0]
C:\cortex\gateway\src/main.c:191
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  14:	80ac      	strh	r4, [r5, #4]
C:\cortex\gateway\src/main.c:192
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  16:	80ec      	strh	r4, [r5, #6]
C:\cortex\gateway\src/main.c:193
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  18:	812c      	strh	r4, [r5, #8]
C:\cortex\gateway\src/main.c:194
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  1a:	81ac      	strh	r4, [r5, #12]
C:\cortex\gateway\src/main.c:196
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  USART_Init(USART1, &USART_InitStructure);
  1c:	f7ff fffe 	bl	0 <USART_Init>
C:\cortex\gateway\src/main.c:198
  USART_InitStructure.USART_BaudRate = mainBAUDRATE2;
  USART_Init(USART2, &USART_InitStructure);
  20:	4629      	mov	r1, r5
  22:	4812      	ldr	r0, [pc, #72]	; (6c <USART_Init1+0x6c>)
C:\cortex\gateway\src/main.c:197
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  USART_Init(USART1, &USART_InitStructure);
  USART_InitStructure.USART_BaudRate = mainBAUDRATE2;
  24:	602e      	str	r6, [r5, #0]
C:\cortex\gateway\src/main.c:198
  USART_Init(USART2, &USART_InitStructure);
  26:	f7ff fffe 	bl	0 <USART_Init>
C:\cortex\gateway\src/main.c:199
  USART_DMACmd(USART1, USART_DMAReq_Rx, ENABLE);
  2a:	2201      	movs	r2, #1
  2c:	2140      	movs	r1, #64	; 0x40
  2e:	480e      	ldr	r0, [pc, #56]	; (68 <USART_Init1+0x68>)
  30:	f7ff fffe 	bl	0 <USART_DMACmd>
C:\cortex\gateway\src/main.c:200
  DMA_Cmd(DMA1_Channel5, ENABLE);
  34:	2101      	movs	r1, #1
  36:	480e      	ldr	r0, [pc, #56]	; (70 <USART_Init1+0x70>)
  38:	f7ff fffe 	bl	0 <DMA_Cmd>
C:\cortex\gateway\src/main.c:201
  USART_DMACmd(USART1, USART_DMAReq_Tx, ENABLE);
  3c:	2201      	movs	r2, #1
  3e:	2180      	movs	r1, #128	; 0x80
  40:	4809      	ldr	r0, [pc, #36]	; (68 <USART_Init1+0x68>)
  42:	f7ff fffe 	bl	0 <USART_DMACmd>
C:\cortex\gateway\src/main.c:202
  DMA_Cmd(DMA1_Channel4, DISABLE);
  46:	4621      	mov	r1, r4
  48:	480a      	ldr	r0, [pc, #40]	; (74 <USART_Init1+0x74>)
  4a:	f7ff fffe 	bl	0 <DMA_Cmd>
C:\cortex\gateway\src/main.c:203
  USART_Cmd(USART1, ENABLE);
  4e:	2101      	movs	r1, #1
  50:	4805      	ldr	r0, [pc, #20]	; (68 <USART_Init1+0x68>)
  52:	f7ff fffe 	bl	0 <USART_Cmd>
C:\cortex\gateway\src/main.c:204
  USART_Cmd(USART2, ENABLE);
  56:	4805      	ldr	r0, [pc, #20]	; (6c <USART_Init1+0x6c>)
  58:	2101      	movs	r1, #1
C:\cortex\gateway\src/main.c:205
}
  5a:	e8bd 4070 	ldmia.w	sp!, {r4, r5, r6, lr}
C:\cortex\gateway\src/main.c:204
  USART_DMACmd(USART1, USART_DMAReq_Rx, ENABLE);
  DMA_Cmd(DMA1_Channel5, ENABLE);
  USART_DMACmd(USART1, USART_DMAReq_Tx, ENABLE);
  DMA_Cmd(DMA1_Channel4, DISABLE);
  USART_Cmd(USART1, ENABLE);
  USART_Cmd(USART2, ENABLE);
  5e:	f7ff bffe 	b.w	0 <USART_Cmd>
  62:	bf00      	nop
  64:	00000000 	.word	0x00000000
  68:	40013800 	.word	0x40013800
  6c:	40004400 	.word	0x40004400
  70:	40020058 	.word	0x40020058
  74:	40020044 	.word	0x40020044

Disassembly of section .text.RCC_Configuration:

00000000 <RCC_Configuration>:
RCC_Configuration():
C:\cortex\gateway\src/main.c:215
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void RCC_Configuration(void)
{
   0:	b510      	push	{r4, lr}
C:\cortex\gateway\src/main.c:218

  /* Enable HSE */
  RCC_HSEConfig(RCC_HSE_ON);
   2:	f44f 3080 	mov.w	r0, #65536	; 0x10000
   6:	f7ff fffe 	bl	0 <RCC_HSEConfig>
C:\cortex\gateway\src/main.c:221

  /* Wait till HSE is ready */
  HSEStartUpStatus = RCC_WaitForHSEStartUp();
   a:	f7ff fffe 	bl	0 <RCC_WaitForHSEStartUp>
   e:	4b21      	ldr	r3, [pc, #132]	; (94 <RCC_Configuration+0x94>)
C:\cortex\gateway\src/main.c:223

  if(HSEStartUpStatus == SUCCESS)
  10:	2801      	cmp	r0, #1
C:\cortex\gateway\src/main.c:221

  /* Enable HSE */
  RCC_HSEConfig(RCC_HSE_ON);

  /* Wait till HSE is ready */
  HSEStartUpStatus = RCC_WaitForHSEStartUp();
  12:	4604      	mov	r4, r0
  14:	7018      	strb	r0, [r3, #0]
C:\cortex\gateway\src/main.c:223

  if(HSEStartUpStatus == SUCCESS)
  16:	d124      	bne.n	62 <RCC_Configuration+0x62>
C:\cortex\gateway\src/main.c:226
  {
    /* Enable Prefetch Buffer */
    FLASH_PrefetchBufferCmd(FLASH_PrefetchBuffer_Enable);
  18:	2010      	movs	r0, #16
  1a:	f7ff fffe 	bl	0 <FLASH_PrefetchBufferCmd>
C:\cortex\gateway\src/main.c:229

    /* Flash 2 wait state */
    FLASH_SetLatency(FLASH_Latency_2);
  1e:	2002      	movs	r0, #2
  20:	f7ff fffe 	bl	0 <FLASH_SetLatency>
C:\cortex\gateway\src/main.c:232
 
    /* HCLK = SYSCLK */
    RCC_HCLKConfig(RCC_SYSCLK_Div1); 
  24:	2000      	movs	r0, #0
  26:	f7ff fffe 	bl	0 <RCC_HCLKConfig>
C:\cortex\gateway\src/main.c:235
  
    /* PCLK2 = HCLK */
    RCC_PCLK2Config(RCC_HCLK_Div1); 
  2a:	2000      	movs	r0, #0
  2c:	f7ff fffe 	bl	0 <RCC_PCLK2Config>
C:\cortex\gateway\src/main.c:238

    /* PCLK1 = HCLK/2 */
    RCC_PCLK1Config(RCC_HCLK_Div2);
  30:	f44f 6080 	mov.w	r0, #1024	; 0x400
  34:	f7ff fffe 	bl	0 <RCC_PCLK1Config>
C:\cortex\gateway\src/main.c:241
 
    /* PLLCLK = 12MHz * 6 = 72 MHz */
    RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_6);
  38:	f44f 3080 	mov.w	r0, #65536	; 0x10000
  3c:	f44f 1180 	mov.w	r1, #1048576	; 0x100000
  40:	f7ff fffe 	bl	0 <RCC_PLLConfig>
C:\cortex\gateway\src/main.c:244

    /* Enable PLL */ 
    RCC_PLLCmd(ENABLE);
  44:	4620      	mov	r0, r4
  46:	f7ff fffe 	bl	0 <RCC_PLLCmd>
C:\cortex\gateway\src/main.c:247

    /* Wait till PLL is ready */
    while(RCC_GetFlagStatus(RCC_FLAG_PLLRDY) == RESET)
  4a:	2039      	movs	r0, #57	; 0x39
  4c:	f7ff fffe 	bl	0 <RCC_GetFlagStatus>
  50:	2800      	cmp	r0, #0
  52:	d0fa      	beq.n	4a <RCC_Configuration+0x4a>
C:\cortex\gateway\src/main.c:252
    {
    }

    /* Select PLL as system clock source */
    RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);
  54:	2002      	movs	r0, #2
  56:	f7ff fffe 	bl	0 <RCC_SYSCLKConfig>
C:\cortex\gateway\src/main.c:255

    /* Wait till PLL is used as system clock source */
    while(RCC_GetSYSCLKSource() != 0x08)
  5a:	f7ff fffe 	bl	0 <RCC_GetSYSCLKSource>
  5e:	2808      	cmp	r0, #8
  60:	d1fb      	bne.n	5a <RCC_Configuration+0x5a>
C:\cortex\gateway\src/main.c:261
    {
    }
  }

  /* Enable peripheral clocks --------------------------------------------------*/
  RCC_AHBPeriphClockCmd ( RCC_AHBPeriph_DMA1, ENABLE);
  62:	2001      	movs	r0, #1
  64:	4601      	mov	r1, r0
  66:	f7ff fffe 	bl	0 <RCC_AHBPeriphClockCmd>
C:\cortex\gateway\src/main.c:262
  RCC_APB2PeriphClockCmd( RCC_APB2Periph_USART1 , ENABLE); 
  6a:	2101      	movs	r1, #1
  6c:	f44f 4080 	mov.w	r0, #16384	; 0x4000
  70:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
C:\cortex\gateway\src/main.c:263
  RCC_APB1PeriphClockCmd( RCC_APB1Periph_USART2, ENABLE);
  74:	2101      	movs	r1, #1
  76:	f44f 3000 	mov.w	r0, #131072	; 0x20000
  7a:	f7ff fffe 	bl	0 <RCC_APB1PeriphClockCmd>
C:\cortex\gateway\src/main.c:264
  RCC_APB1PeriphClockCmd( RCC_APB1Periph_I2C1 | RCC_APB1Periph_I2C2, ENABLE);
  7e:	2101      	movs	r1, #1
  80:	f44f 00c0 	mov.w	r0, #6291456	; 0x600000
  84:	f7ff fffe 	bl	0 <RCC_APB1PeriphClockCmd>
C:\cortex\gateway\src/main.c:265
  RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOA | RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC | RCC_APB2Periph_AFIO , ENABLE);
  88:	201d      	movs	r0, #29
  8a:	2101      	movs	r1, #1
C:\cortex\gateway\src/main.c:266
}
  8c:	e8bd 4010 	ldmia.w	sp!, {r4, lr}
C:\cortex\gateway\src/main.c:265
  /* Enable peripheral clocks --------------------------------------------------*/
  RCC_AHBPeriphClockCmd ( RCC_AHBPeriph_DMA1, ENABLE);
  RCC_APB2PeriphClockCmd( RCC_APB2Periph_USART1 , ENABLE); 
  RCC_APB1PeriphClockCmd( RCC_APB1Periph_USART2, ENABLE);
  RCC_APB1PeriphClockCmd( RCC_APB1Periph_I2C1 | RCC_APB1Periph_I2C2, ENABLE);
  RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOA | RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC | RCC_APB2Periph_AFIO , ENABLE);
  90:	f7ff bffe 	b.w	0 <RCC_APB2PeriphClockCmd>
  94:	00000000 	.word	0x00000000

Disassembly of section .text.GPIO_Configuration:

00000000 <GPIO_Configuration>:
GPIO_Configuration():
C:\cortex\gateway\src/main.c:276
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void GPIO_Configuration(void)
{
   0:	b573      	push	{r0, r1, r4, r5, r6, lr}
C:\cortex\gateway\src/main.c:280
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Configure I2C1 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7;
   2:	23c0      	movs	r3, #192	; 0xc0
C:\cortex\gateway\src/main.c:281
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
   4:	2403      	movs	r4, #3
C:\cortex\gateway\src/main.c:280
void GPIO_Configuration(void)
{
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Configure I2C1 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7;
   6:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:283
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  GPIO_Init(GPIOB, &GPIO_InitStructure);
   a:	a901      	add	r1, sp, #4
C:\cortex\gateway\src/main.c:282
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Configure I2C1 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
   c:	231c      	movs	r3, #28
C:\cortex\gateway\src/main.c:283
  GPIO_Init(GPIOB, &GPIO_InitStructure);
   e:	4826      	ldr	r0, [pc, #152]	; (a8 <GPIO_Configuration+0xa8>)
C:\cortex\gateway\src/main.c:291
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_11;
  GPIO_Init(GPIOB, &GPIO_InitStructure);

  /* Configure USART1 Rx (PA.10) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  10:	2504      	movs	r5, #4
C:\cortex\gateway\src/main.c:282
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Configure I2C1 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  12:	f88d 3007 	strb.w	r3, [sp, #7]
C:\cortex\gateway\src/main.c:281
{
  GPIO_InitTypeDef GPIO_InitStructure;

  /* Configure I2C1 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  16:	f88d 4006 	strb.w	r4, [sp, #6]
C:\cortex\gateway\src/main.c:283
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  GPIO_Init(GPIOB, &GPIO_InitStructure);
  1a:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:286

  /* Configure I2C2 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_11;
  1e:	f44f 6340 	mov.w	r3, #3072	; 0xc00
C:\cortex\gateway\src/main.c:287
  GPIO_Init(GPIOB, &GPIO_InitStructure);
  22:	a901      	add	r1, sp, #4
  24:	4820      	ldr	r0, [pc, #128]	; (a8 <GPIO_Configuration+0xa8>)
C:\cortex\gateway\src/main.c:286
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  GPIO_Init(GPIOB, &GPIO_InitStructure);

  /* Configure I2C2 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_11;
  26:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:287
  GPIO_Init(GPIOB, &GPIO_InitStructure);
  2a:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:290

  /* Configure USART1 Rx (PA.10) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  2e:	f44f 6380 	mov.w	r3, #1024	; 0x400
C:\cortex\gateway\src/main.c:292
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  32:	eb0d 0105 	add.w	r1, sp, r5
  36:	481d      	ldr	r0, [pc, #116]	; (ac <GPIO_Configuration+0xac>)
C:\cortex\gateway\src/main.c:290
  /* Configure I2C2 pins: SCL and SDA ----------------------------------------*/
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_11;
  GPIO_Init(GPIOB, &GPIO_InitStructure);

  /* Configure USART1 Rx (PA.10) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  38:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:297
  GPIO_Init(GPIOA, &GPIO_InitStructure);

  /* Configure USART1 Tx (PA.09) as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  3c:	2618      	movs	r6, #24
C:\cortex\gateway\src/main.c:291
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10 | GPIO_Pin_11;
  GPIO_Init(GPIOB, &GPIO_InitStructure);

  /* Configure USART1 Rx (PA.10) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  3e:	f88d 5007 	strb.w	r5, [sp, #7]
C:\cortex\gateway\src/main.c:292
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  42:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:295

  /* Configure USART1 Tx (PA.09) as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
  46:	f44f 7300 	mov.w	r3, #512	; 0x200
C:\cortex\gateway\src/main.c:298
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  4a:	eb0d 0105 	add.w	r1, sp, r5
  4e:	4817      	ldr	r0, [pc, #92]	; (ac <GPIO_Configuration+0xac>)
C:\cortex\gateway\src/main.c:295
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(GPIOA, &GPIO_InitStructure);

  /* Configure USART1 Tx (PA.09) as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
  50:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:296
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  54:	f88d 4006 	strb.w	r4, [sp, #6]
C:\cortex\gateway\src/main.c:297
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  58:	f88d 6007 	strb.w	r6, [sp, #7]
C:\cortex\gateway\src/main.c:298
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  5c:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:301
  
  /* Configure USART2 Rx (PA.03) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
  60:	2308      	movs	r3, #8
C:\cortex\gateway\src/main.c:303
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  62:	eb0d 0105 	add.w	r1, sp, r5
  66:	4811      	ldr	r0, [pc, #68]	; (ac <GPIO_Configuration+0xac>)
C:\cortex\gateway\src/main.c:301
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  
  /* Configure USART2 Rx (PA.03) as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
  68:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:302
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  6c:	f88d 5007 	strb.w	r5, [sp, #7]
C:\cortex\gateway\src/main.c:303
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  70:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:309

  /* Configure USART2 Tx (PA.02) as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  74:	eb0d 0105 	add.w	r1, sp, r5
  78:	480c      	ldr	r0, [pc, #48]	; (ac <GPIO_Configuration+0xac>)
C:\cortex\gateway\src/main.c:306
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  GPIO_Init(GPIOA, &GPIO_InitStructure);

  /* Configure USART2 Tx (PA.02) as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;
  7a:	f8ad 5004 	strh.w	r5, [sp, #4]
C:\cortex\gateway\src/main.c:307
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  7e:	f88d 4006 	strb.w	r4, [sp, #6]
C:\cortex\gateway\src/main.c:308
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  82:	f88d 6007 	strb.w	r6, [sp, #7]
C:\cortex\gateway\src/main.c:309
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  86:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:311

  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_1 | GPIO_Pin_0;
  8a:	2307      	movs	r3, #7
  8c:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\cortex\gateway\src/main.c:314
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  GPIO_Init(GPIOC, &GPIO_InitStructure);
  90:	4807      	ldr	r0, [pc, #28]	; (b0 <GPIO_Configuration+0xb0>)
C:\cortex\gateway\src/main.c:313
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_Init(GPIOA, &GPIO_InitStructure);

  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_1 | GPIO_Pin_0;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  92:	2310      	movs	r3, #16
C:\cortex\gateway\src/main.c:314
  GPIO_Init(GPIOC, &GPIO_InitStructure);
  94:	eb0d 0105 	add.w	r1, sp, r5
C:\cortex\gateway\src/main.c:312
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  GPIO_Init(GPIOA, &GPIO_InitStructure);

  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_1 | GPIO_Pin_0;
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  98:	f88d 4006 	strb.w	r4, [sp, #6]
C:\cortex\gateway\src/main.c:313
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  9c:	f88d 3007 	strb.w	r3, [sp, #7]
C:\cortex\gateway\src/main.c:314
  GPIO_Init(GPIOC, &GPIO_InitStructure);
  a0:	f7ff fffe 	bl	0 <GPIO_Init>
C:\cortex\gateway\src/main.c:316

}
  a4:	bd7c      	pop	{r2, r3, r4, r5, r6, pc}
  a6:	bf00      	nop
  a8:	40010c00 	.word	0x40010c00
  ac:	40010800 	.word	0x40010800
  b0:	40011000 	.word	0x40011000

Disassembly of section .text.NVIC_Configuration:

00000000 <NVIC_Configuration>:
NVIC_Configuration():
C:\cortex\gateway\src/main.c:326
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void NVIC_Configuration(void)
{ 
   0:	2100b570 	.word	0x2100b570
C:\cortex\gateway\src/main.c:338
#endif

  NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);
  
  /* Configure and enable I2C1 event interrupt -------------------------------*/
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_EV_IRQChannel;
   4:	4c16      	ldr	r4, [pc, #88]	; (60 <NVIC_Configuration+0x60>)
C:\cortex\gateway\src/main.c:332
#ifdef  VECT_TAB_RAM  
  /* Set the Vector Table base location at 0x20000000 */ 
  NVIC_SetVectorTable(NVIC_VectTab_RAM, 0x0); 
#else  /* VECT_TAB_FLASH  */
  /* Set the Vector Table base location at 0x08000000 */ 
  NVIC_SetVectorTable(NVIC_VectTab_FLASH, 0x0);   
   6:	f04f 6000 	mov.w	r0, #134217728	; 0x8000000
   a:	f7ff fffe 	bl	0 <NVIC_SetVectorTable>
C:\cortex\gateway\src/main.c:335
#endif

  NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);
   e:	f44f 7040 	mov.w	r0, #768	; 0x300
  12:	f7ff fffe 	bl	0 <NVIC_PriorityGroupConfig>
C:\cortex\gateway\src/main.c:340
  
  /* Configure and enable I2C1 event interrupt -------------------------------*/
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_EV_IRQChannel;
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  16:	2501      	movs	r5, #1
C:\cortex\gateway\src/main.c:338
#endif

  NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);
  
  /* Configure and enable I2C1 event interrupt -------------------------------*/
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_EV_IRQChannel;
  18:	2321      	movs	r3, #33	; 0x21
C:\cortex\gateway\src/main.c:339
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  1a:	2600      	movs	r6, #0
C:\cortex\gateway\src/main.c:341
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  1c:	4620      	mov	r0, r4
C:\cortex\gateway\src/main.c:338
#endif

  NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);
  
  /* Configure and enable I2C1 event interrupt -------------------------------*/
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_EV_IRQChannel;
  1e:	7023      	strb	r3, [r4, #0]
C:\cortex\gateway\src/main.c:339
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  20:	7066      	strb	r6, [r4, #1]
C:\cortex\gateway\src/main.c:340
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  22:	70e5      	strb	r5, [r4, #3]
C:\cortex\gateway\src/main.c:341
  NVIC_Init(&NVIC_InitStructure);
  24:	f7ff fffe 	bl	0 <NVIC_Init>
C:\cortex\gateway\src/main.c:344

  /* Configure and enable I2C2 error interrupt -------------------------------*/  
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_ER_IRQChannel;
  28:	2322      	movs	r3, #34	; 0x22
C:\cortex\gateway\src/main.c:345
  NVIC_Init(&NVIC_InitStructure);
  2a:	4620      	mov	r0, r4
C:\cortex\gateway\src/main.c:344
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);

  /* Configure and enable I2C2 error interrupt -------------------------------*/  
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_ER_IRQChannel;
  2c:	7023      	strb	r3, [r4, #0]
C:\cortex\gateway\src/main.c:345
  NVIC_Init(&NVIC_InitStructure);
  2e:	f7ff fffe 	bl	0 <NVIC_Init>
C:\cortex\gateway\src/main.c:348

  /* Enable the USART1 DMA Interrupt Rx */
  NVIC_InitStructure.NVIC_IRQChannel = DMA1_Channel5_IRQChannel;
  32:	230f      	movs	r3, #15
C:\cortex\gateway\src/main.c:351
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  34:	4620      	mov	r0, r4
C:\cortex\gateway\src/main.c:348
  /* Configure and enable I2C2 error interrupt -------------------------------*/  
  NVIC_InitStructure.NVIC_IRQChannel = I2C2_ER_IRQChannel;
  NVIC_Init(&NVIC_InitStructure);

  /* Enable the USART1 DMA Interrupt Rx */
  NVIC_InitStructure.NVIC_IRQChannel = DMA1_Channel5_IRQChannel;
  36:	7023      	strb	r3, [r4, #0]
C:\cortex\gateway\src/main.c:349
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  38:	7066      	strb	r6, [r4, #1]
C:\cortex\gateway\src/main.c:350
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  3a:	70e5      	strb	r5, [r4, #3]
C:\cortex\gateway\src/main.c:351
  NVIC_Init(&NVIC_InitStructure);
  3c:	f7ff fffe 	bl	0 <NVIC_Init>
C:\cortex\gateway\src/main.c:354
  
  /* Enable the USART1 DMA Interrupt Tx*/
  NVIC_InitStructure.NVIC_IRQChannel = DMA1_Channel4_IRQChannel;
  40:	230e      	movs	r3, #14
C:\cortex\gateway\src/main.c:357
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  42:	4620      	mov	r0, r4
C:\cortex\gateway\src/main.c:354
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  
  /* Enable the USART1 DMA Interrupt Tx*/
  NVIC_InitStructure.NVIC_IRQChannel = DMA1_Channel4_IRQChannel;
  44:	7023      	strb	r3, [r4, #0]
C:\cortex\gateway\src/main.c:355
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
  46:	7065      	strb	r5, [r4, #1]
C:\cortex\gateway\src/main.c:356
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  48:	70e5      	strb	r5, [r4, #3]
C:\cortex\gateway\src/main.c:357
  NVIC_Init(&NVIC_InitStructure);
  4a:	f7ff fffe 	bl	0 <NVIC_Init>
C:\cortex\gateway\src/main.c:361
  
  /* Enable watchdog*/
  NVIC_InitStructure.NVIC_IRQChannel = WWDG_IRQChannel;
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
  4e:	2302      	movs	r3, #2
C:\cortex\gateway\src/main.c:363
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  50:	4620      	mov	r0, r4
C:\cortex\gateway\src/main.c:360
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  
  /* Enable watchdog*/
  NVIC_InitStructure.NVIC_IRQChannel = WWDG_IRQChannel;
  52:	7026      	strb	r6, [r4, #0]
C:\cortex\gateway\src/main.c:361
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
  54:	7063      	strb	r3, [r4, #1]
C:\cortex\gateway\src/main.c:362
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  56:	70e5      	strb	r5, [r4, #3]
C:\cortex\gateway\src/main.c:364
  NVIC_Init(&NVIC_InitStructure);
}
  58:	e8bd 4070 	ldmia.w	sp!, {r4, r5, r6, lr}
C:\cortex\gateway\src/main.c:363
  
  /* Enable watchdog*/
  NVIC_InitStructure.NVIC_IRQChannel = WWDG_IRQChannel;
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  NVIC_Init(&NVIC_InitStructure);
  5c:	f7ff bffe 	b.w	0 <NVIC_Init>
  60:	00000000 	.word	0x00000000

Disassembly of section .text.WdgSet:

00000000 <WdgSet>:
WdgSet():
C:\cortex\gateway\src/main.c:366
}
void WdgSet ( void )
{
   0:	b510      	push	{r4, lr}
C:\cortex\gateway\src/main.c:369
  /* WWDG configuration */
  /* Enable WWDG clock */
  RCC_APB1PeriphClockCmd(RCC_APB1Periph_WWDG, ENABLE);
   2:	2101      	movs	r1, #1
   4:	f44f 6000 	mov.w	r0, #2048	; 0x800
   8:	f7ff fffe 	bl	0 <RCC_APB1PeriphClockCmd>
C:\cortex\gateway\src/main.c:372

  /* WWDG clock counter = (PCLK1/4096)/1 => [0.113 - 7ms] )  */
  WWDG_SetPrescaler(WWDG_Prescaler_8);
   c:	f44f 70c0 	mov.w	r0, #384	; 0x180
  10:	f7ff fffe 	bl	0 <WWDG_SetPrescaler>
C:\cortex\gateway\src/main.c:375

  /* Set Window value to 65 */
  WWDG_SetWindowValue(WDG_WINDOW_VALUE);
  14:	2041      	movs	r0, #65	; 0x41
  16:	f7ff fffe 	bl	0 <WWDG_SetWindowValue>
C:\cortex\gateway\src/main.c:378

  /* Enable WWDG and set counter value to 127, WWDG timeout = ~7ms */
  WWDG_Enable(WDG_COUNTER_VALUE);
  1a:	207f      	movs	r0, #127	; 0x7f
  1c:	f7ff fffe 	bl	0 <WWDG_Enable>
C:\cortex\gateway\src/main.c:381

  /* Clear EWI flag */
  WWDG_ClearFlag();
  20:	f7ff fffe 	bl	0 <WWDG_ClearFlag>
C:\cortex\gateway\src/main.c:385

  /* Enable EW interrupt */
  WWDG_EnableIT();
}
  24:	e8bd 4010 	ldmia.w	sp!, {r4, lr}
C:\cortex\gateway\src/main.c:384

  /* Clear EWI flag */
  WWDG_ClearFlag();

  /* Enable EW interrupt */
  WWDG_EnableIT();
  28:	f7ff bffe 	b.w	0 <WWDG_EnableIT>

Disassembly of section .text.DMA_Configuration:

00000000 <DMA_Configuration>:
DMA_Configuration():
C:\cortex\gateway\src/main.c:388
}

void DMA_Configuration(void)
{
   0:	e92d 47f0 	stmdb	sp!, {r4, r5, r6, r7, r8, r9, sl, lr}
C:\cortex\gateway\src/main.c:392
  DMA_InitTypeDef DMA_InitStructure;

  // DMA for serial TX  
  DMA_DeInit(DMA1_Channel5);
   4:	4821      	ldr	r0, [pc, #132]	; (8c <DMA_Configuration+0x8c>)
C:\cortex\gateway\src/main.c:388
  /* Enable EW interrupt */
  WWDG_EnableIT();
}

void DMA_Configuration(void)
{
   6:	b08c      	sub	sp, #48	; 0x30
C:\cortex\gateway\src/main.c:393
  DMA_InitTypeDef DMA_InitStructure;

  // DMA for serial TX  
  DMA_DeInit(DMA1_Channel5);
  DMA_InitStructure.DMA_PeripheralBaseAddr = USART1_DR_Base;
   8:	f8df 9088 	ldr.w	r9, [pc, #136]	; 94 <DMA_Configuration+0x94>
C:\cortex\gateway\src/main.c:394
  DMA_InitStructure.DMA_MemoryBaseAddr = (u32)&Commands[0];
   c:	f8df 8088 	ldr.w	r8, [pc, #136]	; 98 <DMA_Configuration+0x98>
C:\cortex\gateway\src/main.c:392
void DMA_Configuration(void)
{
  DMA_InitTypeDef DMA_InitStructure;

  // DMA for serial TX  
  DMA_DeInit(DMA1_Channel5);
  10:	f7ff fffe 	bl	0 <DMA_DeInit>
C:\cortex\gateway\src/main.c:395
  DMA_InitStructure.DMA_PeripheralBaseAddr = USART1_DR_Base;
  DMA_InitStructure.DMA_MemoryBaseAddr = (u32)&Commands[0];
  DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralSRC;
  14:	2400      	movs	r4, #0
C:\cortex\gateway\src/main.c:396
  DMA_InitStructure.DMA_BufferSize = mainMAX_MSG_SIZE * mainMAX_AMOUNT_OF_MSG;
  16:	f44f 6780 	mov.w	r7, #1024	; 0x400
C:\cortex\gateway\src/main.c:398
  DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;
  DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;
  1a:	2680      	movs	r6, #128	; 0x80
C:\cortex\gateway\src/main.c:401
  DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;
  DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;
  DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;
  1c:	2520      	movs	r5, #32
C:\cortex\gateway\src/main.c:402
  DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;
  1e:	f44f 5a40 	mov.w	sl, #12288	; 0x3000
C:\cortex\gateway\src/main.c:404
  DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;
  DMA_Init(DMA1_Channel5, &DMA_InitStructure);
  22:	a901      	add	r1, sp, #4
  24:	4819      	ldr	r0, [pc, #100]	; (8c <DMA_Configuration+0x8c>)
C:\cortex\gateway\src/main.c:393
{
  DMA_InitTypeDef DMA_InitStructure;

  // DMA for serial TX  
  DMA_DeInit(DMA1_Channel5);
  DMA_InitStructure.DMA_PeripheralBaseAddr = USART1_DR_Base;
  26:	f8cd 9004 	str.w	r9, [sp, #4]
C:\cortex\gateway\src/main.c:394
  DMA_InitStructure.DMA_MemoryBaseAddr = (u32)&Commands[0];
  2a:	f8cd 8008 	str.w	r8, [sp, #8]
C:\cortex\gateway\src/main.c:395
  DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralSRC;
  2e:	9403      	str	r4, [sp, #12]
C:\cortex\gateway\src/main.c:396
  DMA_InitStructure.DMA_BufferSize = mainMAX_MSG_SIZE * mainMAX_AMOUNT_OF_MSG;
  30:	9704      	str	r7, [sp, #16]
C:\cortex\gateway\src/main.c:397
  DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;
  32:	9405      	str	r4, [sp, #20]
C:\cortex\gateway\src/main.c:398
  DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;
  34:	9606      	str	r6, [sp, #24]
C:\cortex\gateway\src/main.c:399
  DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;
  36:	9407      	str	r4, [sp, #28]
C:\cortex\gateway\src/main.c:400
  DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;
  38:	9408      	str	r4, [sp, #32]
C:\cortex\gateway\src/main.c:401
  DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;
  3a:	9509      	str	r5, [sp, #36]	; 0x24
C:\cortex\gateway\src/main.c:402
  DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;
  3c:	f8cd a028 	str.w	sl, [sp, #40]	; 0x28
C:\cortex\gateway\src/main.c:403
  DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;
  40:	940b      	str	r4, [sp, #44]	; 0x2c
C:\cortex\gateway\src/main.c:404
  DMA_Init(DMA1_Channel5, &DMA_InitStructure);
  42:	f7ff fffe 	bl	0 <DMA_Init>
C:\cortex\gateway\src/main.c:406

  DMA_ITConfig ( DMA1_Channel5 , DMA_IT_TC | DMA_IT_HT | DMA_IT_TE , ENABLE );
  46:	2201      	movs	r2, #1
  48:	210e      	movs	r1, #14
  4a:	4810      	ldr	r0, [pc, #64]	; (8c <DMA_Configuration+0x8c>)
  4c:	f7ff fffe 	bl	0 <DMA_ITConfig>
C:\cortex\gateway\src/main.c:409

  // DMA for serial RX  
  DMA_DeInit(DMA1_Channel4);
  50:	480f      	ldr	r0, [pc, #60]	; (40 <DMA_DeInit+0x40>)
  52:	f7ff fffe 	bl	0 <DMA_DeInit>
C:\cortex\gateway\src/main.c:412
  DMA_InitStructure.DMA_PeripheralBaseAddr = USART1_DR_Base;
  DMA_InitStructure.DMA_MemoryBaseAddr = (u32)&Commands[0];
  DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralDST;
  56:	2310      	movs	r3, #16
C:\cortex\gateway\src/main.c:421
  DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;
  DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;
  DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;
  DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;
  DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;
  DMA_Init(DMA1_Channel4, &DMA_InitStructure);
  58:	a901      	add	r1, sp, #4
  5a:	480d      	ldr	r0, [pc, #52]	; (90 <DMA_Configuration+0x90>)
C:\cortex\gateway\src/main.c:410

  DMA_ITConfig ( DMA1_Channel5 , DMA_IT_TC | DMA_IT_HT | DMA_IT_TE , ENABLE );

  // DMA for serial RX  
  DMA_DeInit(DMA1_Channel4);
  DMA_InitStructure.DMA_PeripheralBaseAddr = USART1_DR_Base;
  5c:	f8cd 9004 	str.w	r9, [sp, #4]
C:\cortex\gateway\src/main.c:411
  DMA_InitStructure.DMA_MemoryBaseAddr = (u32)&Commands[0];
  60:	f8cd 8008 	str.w	r8, [sp, #8]
C:\cortex\gateway\src/main.c:412
  DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralDST;
  64:	9303      	str	r3, [sp, #12]
C:\cortex\gateway\src/main.c:413
  DMA_InitStructure.DMA_BufferSize = mainMAX_MSG_SIZE * mainMAX_AMOUNT_OF_MSG;
  66:	9704      	str	r7, [sp, #16]
C:\cortex\gateway\src/main.c:414
  DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;
  68:	9405      	str	r4, [sp, #20]
C:\cortex\gateway\src/main.c:415
  DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;
  6a:	9606      	str	r6, [sp, #24]
C:\cortex\gateway\src/main.c:416
  DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;
  6c:	9407      	str	r4, [sp, #28]
C:\cortex\gateway\src/main.c:417
  DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;
  6e:	9408      	str	r4, [sp, #32]
C:\cortex\gateway\src/main.c:418
  DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;
  70:	9509      	str	r5, [sp, #36]	; 0x24
C:\cortex\gateway\src/main.c:419
  DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;
  72:	f8cd a028 	str.w	sl, [sp, #40]	; 0x28
C:\cortex\gateway\src/main.c:420
  DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;
  76:	940b      	str	r4, [sp, #44]	; 0x2c
C:\cortex\gateway\src/main.c:421
  DMA_Init(DMA1_Channel4, &DMA_InitStructure);
  78:	f7ff fffe 	bl	0 <DMA_Init>
C:\cortex\gateway\src/main.c:423

  DMA_ITConfig ( DMA1_Channel4 , DMA_IT_TC | DMA_IT_HT | DMA_IT_TE , ENABLE );
  7c:	4804      	ldr	r0, [pc, #16]	; (90 <DMA_Configuration+0x90>)
  7e:	210e      	movs	r1, #14
  80:	2201      	movs	r2, #1
  82:	f7ff fffe 	bl	0 <DMA_ITConfig>
C:\cortex\gateway\src/main.c:424
}
  86:	b00c      	add	sp, #48	; 0x30
  88:	e8bd 87f0 	ldmia.w	sp!, {r4, r5, r6, r7, r8, r9, sl, pc}
  8c:	40020058 	.word	0x40020058
  90:	40020044 	.word	0x40020044
  94:	40013804 	.word	0x40013804
  98:	00000000 	.word	0x00000000

Disassembly of section .text.main:

00000000 <main>:
main():
C:\cortex\gateway\src/main.c:79
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
int main(void)
{
   0:	e92d 41f0 	stmdb	sp!, {r4, r5, r6, r7, r8, lr}
C:\cortex\gateway\src/main.c:82
  u8 command_idx;
 
  RCC_Configuration();
   4:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:83
  NVIC_Configuration();
   8:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:84
  GPIO_Configuration();
   c:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:85
  DMA_Configuration();
  10:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:86
  USART_Init1();
  14:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:87
  I2C_Initialize();
  18:	f7ff fffe 	bl	0 <main>
C:\cortex\gateway\src/main.c:95
  while (1)
  {
    // wait here til we have a DMA completion    
    __WFI();
  
    if ( ReceivedOK  == TRUE )
  1c:	4e41      	ldr	r6, [pc, #260]	; (108 <__WFI+0x108>)
C:\cortex\gateway\src/main.c:93
  //WdgSet();

  while (1)
  {
    // wait here til we have a DMA completion    
    __WFI();
  1e:	f7ff fffe 	bl	0 <__WFI>
C:\cortex\gateway\src/main.c:95
  
    if ( ReceivedOK  == TRUE )
  22:	7833      	ldrb	r3, [r6, #0]
  24:	4635      	mov	r5, r6
  26:	2b01      	cmp	r3, #1
  28:	d1f8      	bne.n	1c <main+0x1c>
C:\cortex\gateway\src/main.c:98
    {
#ifndef LOOPBACK  
        printf( "Bytes received from USB2I2C\n");
  2a:	483f      	ldr	r0, [pc, #252]	; (128 <main+0x128>)
  2c:	f7ff fffe 	bl	0 <puts>
  30:	2400      	movs	r4, #0
C:\cortex\gateway\src/main.c:102
        //I2C_FreeBus();
        for ( command_idx = 0 ; command_idx < mainMAX_AMOUNT_OF_MSG ; command_idx++ )
        {
            if ( Commands[command_idx].msg[0] != mainCMD_NONE )
  32:	4b3e      	ldr	r3, [pc, #248]	; (12c <main+0x12c>)
  34:	01e2      	lsls	r2, r4, #7
  36:	5c9f      	ldrb	r7, [r3, r2]
  38:	1899      	adds	r1, r3, r2
  3a:	2f00      	cmp	r7, #0
  3c:	d059      	beq.n	f2 <main+0xf2>
C:\cortex\gateway\src/main.c:104
            {
                Command.command = Commands[command_idx].msg[0];
  3e:	5c9f      	ldrb	r7, [r3, r2]
  40:	f8df 80ec 	ldr.w	r8, [pc, #236]	; 130 <main+0x130>
  44:	f888 7000 	strb.w	r7, [r8]
C:\cortex\gateway\src/main.c:105
                Command.address = Commands[command_idx].msg[1];
  48:	784f      	ldrb	r7, [r1, #1]
  4a:	f888 7001 	strb.w	r7, [r8, #1]
C:\cortex\gateway\src/main.c:106
                Command.len_control = Commands[command_idx].msg[2];
  4e:	7889      	ldrb	r1, [r1, #2]
  50:	f888 1002 	strb.w	r1, [r8, #2]
C:\cortex\gateway\src/main.c:107
                if ( Command.len_control != 0 )
  54:	f898 1002 	ldrb.w	r1, [r8, #2]
  58:	b121      	cbz	r1, 64 <main+0x64>
C:\cortex\gateway\src/main.c:109
                {
                    Command.control = (u8 *) &Commands[command_idx].msg[3];
  5a:	3203      	adds	r2, #3
  5c:	18d2      	adds	r2, r2, r3
  5e:	f8c8 2004 	str.w	r2, [r8, #4]
  62:	e001      	b.n	68 <main+0x68>
C:\cortex\gateway\src/main.c:113
                }
                else
                {
                    Command.control = NULL;
  64:	f8c8 1004 	str.w	r1, [r8, #4]
C:\cortex\gateway\src/main.c:115
                }
                Command.len_data = Commands[command_idx].msg[3 + Command.len_control];
  68:	f898 0002 	ldrb.w	r0, [r8, #2]
  6c:	01e1      	lsls	r1, r4, #7
  6e:	3003      	adds	r0, #3
  70:	1808      	adds	r0, r1, r0
  72:	5c1b      	ldrb	r3, [r3, r0]
  74:	4a2e      	ldr	r2, [pc, #184]	; (130 <main+0x130>)
  76:	f888 3008 	strb.w	r3, [r8, #8]
C:\cortex\gateway\src/main.c:116
                if ( Command.len_data != 0 )
  7a:	f898 3008 	ldrb.w	r3, [r8, #8]
  7e:	b133      	cbz	r3, 8e <main+0x8e>
C:\cortex\gateway\src/main.c:118
                {
                    Command.data = (u8 *) &Commands[command_idx].msg[4 + Command.len_control];
  80:	7893      	ldrb	r3, [r2, #2]
  82:	3304      	adds	r3, #4
  84:	1859      	adds	r1, r3, r1
  86:	4b29      	ldr	r3, [pc, #164]	; (12c <main+0x12c>)
  88:	18c9      	adds	r1, r1, r3
  8a:	60d1      	str	r1, [r2, #12]
  8c:	e000      	b.n	90 <main+0x90>
C:\cortex\gateway\src/main.c:122
                }
                else
                {
                    Command.data = NULL;
  8e:	60d3      	str	r3, [r2, #12]
C:\cortex\gateway\src/main.c:125
                }
            
                switch (Command.command)
  90:	f898 3000 	ldrb.w	r3, [r8]
  94:	2b01      	cmp	r3, #1
  96:	4619      	mov	r1, r3
  98:	d002      	beq.n	a0 <main+0xa0>
  9a:	2b02      	cmp	r3, #2
  9c:	d129      	bne.n	f2 <main+0xf2>
  9e:	e013      	b.n	c8 <main+0xc8>
C:\cortex\gateway\src/main.c:128
                {
                    case mainCMD_CORTEX_MASTER_TX:
                        Transmitter = TRUE;
  a0:	706b      	strb	r3, [r5, #1]
C:\cortex\gateway\src/main.c:129
                        I2C_GenerateSTART(I2C2, ENABLE);
  a2:	4824      	ldr	r0, [pc, #144]	; (134 <main+0x134>)
  a4:	f7ff fffe 	bl	0 <I2C_GenerateSTART>
C:\cortex\gateway\src/main.c:130
                        while ( ! I2CTxDone ) __WFI();
  a8:	e001      	b.n	6 <__WFI+0x6>
  aa:	f7ff fffe 	bl	0 <__WFI>
  ae:	78ab      	ldrb	r3, [r5, #2]
  b0:	4f1c      	ldr	r7, [pc, #112]	; (124 <main+0x124>)
  b2:	2b00      	cmp	r3, #0
  b4:	d0f9      	beq.n	aa <main+0xaa>
C:\cortex\gateway\src/main.c:131
                        printf( "%d bytes transmitted in command mode : %d\n",TxIdx,Command.command);
  b6:	f898 2000 	ldrb.w	r2, [r8]
  ba:	481f      	ldr	r0, [pc, #124]	; (138 <main+0x138>)
  bc:	88b9      	ldrh	r1, [r7, #4]
  be:	f7ff fffe 	bl	0 <printf>
C:\cortex\gateway\src/main.c:132
                        I2CTxDone = FALSE;    
  c2:	2300      	movs	r3, #0
  c4:	70bb      	strb	r3, [r7, #2]
C:\cortex\gateway\src/main.c:133
                        break;
  c6:	e014      	b.n	f2 <main+0xf2>
C:\cortex\gateway\src/main.c:135
                     case mainCMD_CORTEX_MASTER_RX:
                        Transmitter = FALSE;
  c8:	2300      	movs	r3, #0
  ca:	706b      	strb	r3, [r5, #1]
C:\cortex\gateway\src/main.c:136
                        I2C_GenerateSTART(I2C2, ENABLE);
  cc:	4819      	ldr	r0, [pc, #100]	; (134 <main+0x134>)
  ce:	2101      	movs	r1, #1
  d0:	f7ff fffe 	bl	0 <I2C_GenerateSTART>
C:\cortex\gateway\src/main.c:137
                        while ( ! I2CRxDone )  __WFI(); 
  d4:	e001      	b.n	6 <__WFI+0x6>
  d6:	f7ff fffe 	bl	0 <__WFI>
  da:	79ab      	ldrb	r3, [r5, #6]
  dc:	4f11      	ldr	r7, [pc, #68]	; (124 <main+0x124>)
  de:	2b00      	cmp	r3, #0
  e0:	d0f9      	beq.n	d6 <main+0xd6>
C:\cortex\gateway\src/main.c:138
                        printf( "%d bytes received in command mode : %d\n",TxIdx,Command.command);    
  e2:	f898 2000 	ldrb.w	r2, [r8]
  e6:	4815      	ldr	r0, [pc, #84]	; (13c <main+0x13c>)
  e8:	88b9      	ldrh	r1, [r7, #4]
  ea:	f7ff fffe 	bl	0 <printf>
C:\cortex\gateway\src/main.c:139
                        I2CRxDone = FALSE;
  ee:	2300      	movs	r3, #0
  f0:	71bb      	strb	r3, [r7, #6]
C:\cortex\gateway\src/main.c:140
                        break;
  f2:	3401      	adds	r4, #1
C:\cortex\gateway\src/main.c:100
    if ( ReceivedOK  == TRUE )
    {
#ifndef LOOPBACK  
        printf( "Bytes received from USB2I2C\n");
        //I2C_FreeBus();
        for ( command_idx = 0 ; command_idx < mainMAX_AMOUNT_OF_MSG ; command_idx++ )
  f4:	2c08      	cmp	r4, #8
  f6:	d19c      	bne.n	32 <main+0x32>
C:\cortex\gateway\src/main.c:146
                     default:
                        break;
                }        
            }
        }
        printf("Sending to USB2I2C in progress\n");    
  f8:	4811      	ldr	r0, [pc, #68]	; (140 <main+0x140>)
  fa:	f7ff fffe 	bl	0 <puts>
C:\cortex\gateway\src/main.c:148
#endif    
        ReceivedOK = FALSE;
  fe:	2300      	movs	r3, #0
C:\cortex\gateway\src/main.c:149
        GPIO_WriteBit(GPIOC, GPIO_Pin_2, (BitAction)((1-GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_2))));    
 100:	2104      	movs	r1, #4
 102:	4810      	ldr	r0, [pc, #64]	; (144 <main+0x144>)
C:\cortex\gateway\src/main.c:148
                }        
            }
        }
        printf("Sending to USB2I2C in progress\n");    
#endif    
        ReceivedOK = FALSE;
 104:	7033      	strb	r3, [r6, #0]
C:\cortex\gateway\src/main.c:149
        GPIO_WriteBit(GPIOC, GPIO_Pin_2, (BitAction)((1-GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_2))));    
 106:	f7ff fffe 	bl	0 <GPIO_ReadOutputDataBit>
 10a:	f1c0 0201 	rsb	r2, r0, #1
 10e:	2104      	movs	r1, #4
 110:	480c      	ldr	r0, [pc, #48]	; (144 <main+0x144>)
 112:	b2d2      	uxtb	r2, r2
 114:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\cortex\gateway\src/main.c:150
        DMA_Cmd(DMA1_Channel4, ENABLE);
 118:	480b      	ldr	r0, [pc, #44]	; (148 <main+0x148>)
 11a:	2101      	movs	r1, #1
 11c:	f7ff fffe 	bl	0 <DMA_Cmd>
 120:	e77c      	b.n	1c <main+0x1c>
 122:	bf00      	nop
	...
 134:	40005800 	.word	0x40005800
 138:	0000001c 	.word	0x0000001c
 13c:	00000047 	.word	0x00000047
 140:	0000006f 	.word	0x0000006f
 144:	40011000 	.word	0x40011000
 148:	40020044 	.word	0x40020044

Disassembly of section .text.Buffercmp:

00000000 <Buffercmp>:
Buffercmp():
C:\cortex\gateway\src/main.c:436
* Output         : None
* Return         : PASSED: pBuffer1 identical to pBuffer2
*                  FAILED: pBuffer1 differs from pBuffer2
*******************************************************************************/
TestStatus Buffercmp(u8* pBuffer1, u8* pBuffer2, u16 BufferLength)
{
   0:	b510      	push	{r4, lr}
C:\cortex\gateway\src/main.c:437
  while(BufferLength--)
   2:	e007      	b.n	14 <Buffercmp+0x14>
C:\cortex\gateway\src/main.c:439
  {
    if(*pBuffer1 != *pBuffer2)
   4:	f810 4b01 	ldrb.w	r4, [r0], #1
   8:	f811 3b01 	ldrb.w	r3, [r1], #1
   c:	3a01      	subs	r2, #1
   e:	429c      	cmp	r4, r3
  10:	b292      	uxth	r2, r2
  12:	d103      	bne.n	1c <Buffercmp+0x1c>
C:\cortex\gateway\src/main.c:437
* Return         : PASSED: pBuffer1 identical to pBuffer2
*                  FAILED: pBuffer1 differs from pBuffer2
*******************************************************************************/
TestStatus Buffercmp(u8* pBuffer1, u8* pBuffer2, u16 BufferLength)
{
  while(BufferLength--)
  14:	2a00      	cmp	r2, #0
  16:	d1f5      	bne.n	4 <Buffercmp+0x4>
C:\cortex\gateway\src/main.c:448
    
    pBuffer1++;
    pBuffer2++;
  }

  return PASSED;  
  18:	2001      	movs	r0, #1
  1a:	bd10      	pop	{r4, pc}
C:\cortex\gateway\src/main.c:441
{
  while(BufferLength--)
  {
    if(*pBuffer1 != *pBuffer2)
    {
      return FAILED;
  1c:	2000      	movs	r0, #0
C:\cortex\gateway\src/main.c:449
    pBuffer1++;
    pBuffer2++;
  }

  return PASSED;  
}
  1e:	bd10      	pop	{r4, pc}

Disassembly of section .text.__io_putchar:

00000000 <__io_putchar>:
__io_putchar():
C:\cortex\gateway\src/main.c:458
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
PUTCHAR_PROTOTYPE
{
   0:	b510      	push	{r4, lr}
   2:	4604      	mov	r4, r0
C:\cortex\gateway\src/main.c:460
  /* Write a character to the USART */
  USART_SendData(USART2, (u8) ch);
   4:	b2e1      	uxtb	r1, r4
   6:	4805      	ldr	r0, [pc, #20]	; (1c <__io_putchar+0x1c>)
   8:	f7ff fffe 	bl	0 <USART_SendData>
C:\cortex\gateway\src/main.c:463

  /* Loop until the end of transmission */
  while(USART_GetFlagStatus(USART2, USART_FLAG_TXE) == RESET)
   c:	4803      	ldr	r0, [pc, #12]	; (1c <__io_putchar+0x1c>)
   e:	2180      	movs	r1, #128	; 0x80
  10:	f7ff fffe 	bl	0 <USART_GetFlagStatus>
  14:	2800      	cmp	r0, #0
  16:	d0f9      	beq.n	c <__io_putchar+0xc>
C:\cortex\gateway\src/main.c:468
  {
  }

  return ch;
}
  18:	4620      	mov	r0, r4
  1a:	bd10      	pop	{r4, pc}
  1c:	40004400 	.word	0x40004400
